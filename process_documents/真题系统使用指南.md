# 🎓 一建历年真题系统使用指南

## 📋 系统概述

本系统将126个历年真题PDF文件整理为结构化数据，提供了：
- 📂 文件扫描和分类
- 📄 PDF内容解析
- 🗄️ SQLite数据库存储
- 🔍 交互式查看和搜索
- 🎯 随机练习功能

---

## 🚀 快速开始

### 1. 查看真题文件统计

```bash
cd Desktop/kaoLong
source venv/bin/activate
python exam_organizer.py
```

**输出示例**:
```
============================================================
📊 真题文件整理报告
============================================================
文件总数: 126 个

📚 科目统计:
  工程经济        :  36 个文件 | 年份范围: 2010-2023
  机电实务        :  20 个文件 | 年份范围: 2007-2024
  法律法规        :  36 个文件 | 年份范围: 2010-2023
  项目管理        :  34 个文件 | 年份范围: 2010-2023
```

### 2. 解析PDF内容

```bash
python exam_parser.py
```

**功能**:
- 自动提取题目、选项、答案、解析
- 保存为JSON格式
- 支持批量处理

**输出位置**: `机电历年真题/parsed_data/`

### 3. 构建数据库

```bash
python exam_database.py
```

**功能**:
- 创建SQLite数据库
- 导入解析的题目
- 建立索引便于查询

**数据库位置**: `data/exam_questions.db`

### 4. 使用交互式查看器

```bash
python exam_viewer.py
```

**功能菜单**:
```
🎓 一建历年真题查看器
============================================================

请选择功能:
  1. 查看统计信息
  2. 按科目浏览
  3. 按年份浏览
  4. 搜索题目
  5. 随机练习
  0. 退出
```

---

## 📖 详细功能说明

### 功能1: 查看统计信息

显示题库的整体情况：
- 总题目数
- 各科目题目数
- 各年份题目数
- 各题型分布

**示例**:
```
总题目数: 541 道

📚 按科目统计:
  工程经济        :  161 道
  机电实务        :   80 道
  法律法规        :  100 道
  项目管理        :  200 道
```

### 功能2: 按科目浏览

选择科目后，显示该科目的所有题目：

**操作流程**:
1. 选择科目（1-4）
2. 浏览题目列表
3. 选择是否显示答案
4. 查看解析（如有）

**示例**:
```
【题目 1】
年份: 2011 | 科目: 机电实务 | 题号: 1 | 类型: 单选题

平面控制网的测量方法有( )。

选项:
  A. 三角测量法、导线测量法、水准测量法
  B. 水准测量法、电磁波测量法、三边测量法
  C. 水准测量法、电磁波测量法、三角测量法
  D. 三角测量法、导线测量法、三边测量法

是否显示答案? (y/n): y

✅ 答案: D
```

### 功能3: 按年份浏览

输入年份，查看该年的所有题目：

**示例**:
```
请输入年份 (如 2023): 2023

找到 4 道题目:
- 2023年 工程经济 真题
- 2023年 机电实务 真题
- 2023年 法律法规 真题
- 2023年 项目管理 真题
```

### 功能4: 搜索题目

根据关键词搜索相关题目：

**示例**:
```
请输入搜索关键词: 施工

找到 10 道题目:
============================================================

【题目 1】
年份: 2011 | 科目: 项目管理 | 题号: 10 | 类型: 单选题

下列质量控制工作中，属于施工技术准备工作的是（ ）。

选项:
  A. 编制施工组织设计
  B. 进行技术交底
  C. 审查施工图纸
  D. 制定质量计划
```

### 功能5: 随机练习

随机抽取题目进行练习，自动判分：

**操作流程**:
1. 输入练习题目数量
2. 系统随机抽题
3. 逐题作答
4. 即时反馈正误
5. 显示解析
6. 统计正确率

**示例**:
```
🎲 随机练习模式
请输入练习题目数量 (默认10): 5

============================================================
第 1/5 题
============================================================

[2011年 机电实务] (单选题)

平面控制网的测量方法有( )。

选项:
  A. 三角测量法、导线测量法、水准测量法
  B. 水准测量法、电磁波测量法、三边测量法
  C. 水准测量法、电磁波测量法、三角测量法
  D. 三角测量法、导线测量法、三边测量法

你的答案: D

✅ 回答正确！

按 Enter 继续...

============================================================
练习完成！正确率: 4/5 (80%)
============================================================
```

---

## 🗂️ 文件结构

```
Desktop/kaoLong/
│
├── 真题整理程序
│   ├── exam_organizer.py      # 文件扫描整理
│   ├── exam_parser.py         # PDF内容解析
│   ├── exam_database.py       # 数据库构建
│   └── exam_viewer.py         # 交互式查看器
│
├── 真题原始文件
│   └── 机电历年真题/
│       ├── 一建机电真题2007-2023年/
│       ├── 经济/
│       ├── 管理/
│       └── 法规/
│
├── 解析数据
│   └── 机电历年真题/
│       ├── exam_files_index.json      # 文件索引
│       └── parsed_data/               # 解析的JSON数据
│           ├── 机电实务_questions.json
│           ├── 工程经济_questions.json
│           ├── 项目管理_questions.json
│           └── 法律法规_questions.json
│
├── 数据库
│   └── data/
│       └── exam_questions.db          # SQLite数据库
│
└── 文档
    ├── 真题整理总结.md
    └── 真题系统使用指南.md (本文件)
```

---

## 🔧 高级用法

### 1. 解析更多PDF文件

默认每个科目只解析3个文件（用于测试），要解析全部文件：

编辑 `exam_parser.py`，找到：
```python
batch_parser.parse_by_subject(subject, max_files=3)
```

改为：
```python
batch_parser.parse_by_subject(subject, max_files=999)
```

然后运行：
```bash
python exam_parser.py
python exam_database.py  # 重新构建数据库
```

### 2. 直接查询数据库

使用SQLite命令行工具：

```bash
sqlite3 data/exam_questions.db

# 查询所有题目
SELECT * FROM questions LIMIT 10;

# 按科目统计
SELECT subject, COUNT(*) FROM questions GROUP BY subject;

# 搜索关键词
SELECT * FROM questions WHERE question LIKE '%施工%' LIMIT 5;

# 退出
.quit
```

### 3. 导出数据

导出为CSV格式：

```bash
sqlite3 data/exam_questions.db

.headers on
.mode csv
.output questions.csv
SELECT * FROM questions;
.quit
```

### 4. Python脚本调用

在自己的程序中使用：

```python
from exam_database import ExamDatabase

# 连接数据库
db = ExamDatabase()
db.connect()

# 搜索题目
questions = db.search_questions(
    keyword='施工',
    subject='机电实务',
    year=2023,
    limit=10
)

# 处理结果
for q in questions:
    print(f"{q['question']}")
    print(f"答案: {q['answer']}")

db.close()
```

---

## 📊 数据统计

### 当前数据量

```
总文件数: 126 个PDF
已解析: 12 个PDF (测试)
题目数: 541 道

科目分布:
- 工程经济: 161 道 (29.8%)
- 项目管理: 200 道 (37.0%)
- 法律法规: 100 道 (18.5%)
- 机电实务: 80 道 (14.8%)

年份分布:
- 2009-2012年: 541 道
- 2013-2024年: 待解析

题型分布:
- 单选题: 539 道 (99.6%)
- 案例题: 2 道 (0.4%)
```

### 数据质量

| 项目 | 完成度 | 说明 |
|------|--------|------|
| 题目提取 | ✅ 95% | 大部分题目提取准确 |
| 选项识别 | ✅ 90% | 选项格式基本统一 |
| 答案提取 | ⚠️ 60% | 部分PDF格式特殊 |
| 解析提取 | ⚠️ 50% | 需要优化规则 |
| 图片处理 | ❌ 0% | 暂不支持 |

---

## 💡 使用技巧

### 学习建议

1. **系统学习**: 先学教材，再做真题
2. **按年份练习**: 从近年真题开始
3. **重点突破**: 机电实务多练习
4. **错题整理**: 记录错题，反复练习
5. **模拟考试**: 定时练习，模拟考场

### 搜索技巧

1. **关键词搜索**: 使用核心概念词
2. **组合搜索**: 科目 + 年份 + 关键词
3. **题型筛选**: 专门练习某种题型
4. **难度分级**: 从简单到困难

### 练习策略

1. **每日练习**: 每天10-20题
2. **专项突破**: 集中练习薄弱环节
3. **模拟测试**: 定期全真模拟
4. **复习巩固**: 定期回顾错题

---

## 🐛 常见问题

### Q1: 为什么有些题目没有答案？

**A**: 部分PDF文件中答案和题目分离，解析规则需要优化。可以：
- 查看原始PDF文件
- 手动补充答案
- 等待程序优化

### Q2: 如何添加新的真题？

**A**: 
1. 将PDF文件放入对应科目目录
2. 运行 `python exam_organizer.py` 更新索引
3. 运行 `python exam_parser.py` 解析新文件
4. 运行 `python exam_database.py` 更新数据库

### Q3: 数据库文件在哪里？

**A**: `Desktop/kaoLong/data/exam_questions.db`

### Q4: 如何备份数据？

**A**: 
```bash
# 备份数据库
cp data/exam_questions.db data/exam_questions_backup.db

# 备份解析数据
tar -czf parsed_data_backup.tar.gz 机电历年真题/parsed_data/
```

### Q5: 程序运行出错怎么办？

**A**: 
1. 检查Python环境是否激活
2. 确认依赖包已安装
3. 查看错误信息
4. 检查文件路径是否正确

---

## 🔄 更新日志

### v1.0 (2025-11-03)
- ✅ 完成文件扫描功能
- ✅ 完成PDF解析功能
- ✅ 完成数据库构建
- ✅ 完成交互式查看器
- ✅ 解析541道题目

### 计划中
- ⏳ 优化答案提取规则
- ⏳ 添加图片识别
- ⏳ 集成到Web界面
- ⏳ 添加错题本功能
- ⏳ 实现学习进度跟踪

---

## 📞 获取帮助

1. 查看 `真题整理总结.md` 了解技术细节
2. 查看程序源代码中的注释
3. 查看生成的JSON文件示例
4. 使用 `python exam_viewer.py` 交互式探索

---

**最后更新**: 2025-11-03

**版本**: v1.0

---

🎓 **祝你学习进步，考试顺利！**

